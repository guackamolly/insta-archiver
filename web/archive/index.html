<!DOCTYPE html>
<html>
    <head>
        <title>Instagram Archiver - @{{.Username}}</title>
        <base href="/">
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>

        <link rel="icon" href="static/favicon.ico" sizes="any">
        <link rel="apple-touch-icon" href="static/apple-touch-icon.png">
        <link rel='stylesheet' type='text/css' media='screen' href='/index.css'>
    </head>

    <body>
        <header>
            <object data="static/logo.svg"></object>
            <div>
                <a href>Home</a>
                <a href="about">About</a>
                <a href="contact">Contact</a>
                <a
                    href="https://github.com/guackamolly/insta-archiver"
                    target="_blank">Open-Source</a>
            </div>
        </header>

        <main>
            <div class="main-content-1">
                <h1>Archive for @{{.Username}}</h1>
                <section class="bio">
                    <span class="bio-description">
                        {{if .Description}}
                        <p>{{.Description}}</p>
                        {{end}}
                        <p>
                            Archived Stories: <b>{{ .ArchivedStoriesCount}}</b>
                            |
                            Last (24h) Stories: <b>{{len .LastStories}}</b>
                        </p>
                    </span>

                    {{if gt (len .Avatar) 0}}
                    <img class="avatar" src="{{.Avatar}}" />
                    {{end}}
                </section>

                {{if .IsPrivate}}
                {{if gt .ArchivedStoriesCount 0}}
                <p>
                    This user has set his profile as private. You can still
                    watch all the archived stories.
                </p>
                {{else}}
                <img alt="illustration of a lock"
                    src="static/icons/lock.svg" />
                <span>This user is private.</span>
                {{end}}
                {{else}}
                {{if gt (len .LastStories) 0}}
                <div class="divider"></div>
                <section class="gallery">
                    {{range $story := .LastStories}}
                    <a href="{{$story.Media}}">
                        <img src="{{$story.Thumbnail}}"
                            alt="thumbnail of one of the latest stories published by user @{{$.Username}}" />
                    </a>
                    {{end}}
                </section>
                {{end}}

                {{range $item := .ArchivedStories}}
                <div class="divider"></div>
                <h2>{{$item.Date}}</h2>
                <div class="divider"></div>
                <section class="gallery">
                    {{range $story := $item.Stories}}
                    <a href="{{$story.Media}}">
                        <img lazy src="{{$story.Thumbnail}}"
                            alt="thumbnail of an old story published by user @{{$.Username}}" />
                        {{end}}
                    </a>
                </section>
                {{end}}
                {{end}}
            </div>
        </main>
    </body>
</html>